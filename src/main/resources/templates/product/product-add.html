<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns="http://www.w3.org/1999/html">

<head>
    <th:block th:include="~{fragments/head}"></th:block>
</head>
<body style="background-color: #bdefef;">
<header>
    <th:block th:include="~{fragments/nav}"></th:block>
</header>

<main class="mt-3" >
    <h1 class="text-center text-info">Add Product</h1>

    <form id="product-add-form" th:action="@{/products/add}"  method="POST" th:object="${productAddBindingModel}"
          class="form w-25 mx-auto" enctype="multipart/form-data">
        <input type="hidden" name="_csrf" value="c686cd14-a7f9-4216-8009-c093b7d3df86">

        <div class="form-group">
            <label for="name" class="text-center text-info">Product name</label>
            <input th:field="*{name}"
                   th:errorclass="is-invalid"
                   required minlength="3" maxlength="20"
                    type="text"
                    class="form-control text-center"
                    id="name"
                    name="name">
            <small id="nameError" class="invalid-feedback form-text bg-danger rounded">Name must be between 3 and 20
                characters</small>
        </div>
        <div class="form-group">
            <label for="product-add-price" class="text-center text-info">Price</label>
            <input  th:field="*{price}" required min="0" th:errorclass="is-invalid"
                    type="number"
                    step="any"
                    class="form-control text-center"
                    id="product-add-price"
                    name="price">
            <small id="priceError" class="invalid-feedback form-text bg-danger rounded">Price must be positive</small>
        </div>
        <div class="form-group">
            <label for="product-add-image" class="text-center text-info">Image</label>
            <input  th:field="*{image}"
                    th:errorclass="is-invalid"
                    type="file"
                    class="form-control text-center"
                    id="product-add-image"
                    name="image">
            <small id="imageError" class="invalid-feedback form-text bg-danger rounded">Image url not empty</small>
        </div>
        <div class="form-group">
            <label for="product-add-description" class="text-center text-info">Description</label>
            <textarea th:field="*{name}"
                      th:errorclass="is-invalid"
                      required minlength="6"
                    type="text"
                    class="form-control text-center"
                    id="product-add-description"
                    name="description" cols="41" rows="5"></textarea>
            <small id="descriptionError" class="invalid-feedback form-text bg-danger rounded">Description must be min 6 characters</small>

        </div>

        <div class="form-group">
            <label for="product-add-categories" class="font-weight-bold">Categories</label>
            <select th:field="*{categories}" th:errorclass="is-invalid" class="custom-select" id="product-add-categories" >
                <option value="" selected>Select Categories</option>
                <option th:each="categoryC : ${category}" th:value="${categoryC}" th:text="${categoryC}">First categories</option>
            </select>
            <small id="categoryError" class="invalid-feedback form-text bg-danger rounded">You must select category</small>
        </div>

        <div class="button-holder d-flex justify-content-center">
            <button type="submit" class="btn badge-info">Add Product</button>
        </div>
    </form>
</main>


<footer>
    <th:block th:include="~{fragments/footer}"></th:block>
</footer>


</body>
</html>
